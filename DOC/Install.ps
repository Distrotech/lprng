%!PS-Adobe-3.0
%%Creator: groff version 1.10
%%CreationDate: Fri Jan 17 23:10:12 1997
%%DocumentNeededResources: font Times-Bold
%%+ font Times-Roman
%%+ font Times-Italic
%%+ font Courier
%%DocumentSuppliedResources: procset grops 1.10 0
%%Pages: 3
%%PageOrder: Ascend
%%Orientation: Portrait
%%EndComments
%%BeginProlog
%%BeginResource: procset grops 1.10 0
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/MF{
findfont
[5 2 roll
0 3 1 roll
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
/MANUAL{
statusdict begin/manualfeed true store end
}bind def
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}bind def
/DA{
newpath arcn stroke
}bind def
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
/DL{
SN
moveto
SN
lineto stroke
}bind def
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
/FL{
currentgray exch setgray fill setgray
}bind def
/BL/fill load def
/LW/setlinewidth load def
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
}bind def
/PEND{
clear
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%IncludeResource: font Times-Bold
%%IncludeResource: font Times-Roman
%%IncludeResource: font Times-Italic
%%IncludeResource: font Courier
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72
def/PL 792 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron/Zcaron
/scaron/zcaron/Ydieresis/trademark/quotesingle/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/space/exclam/quotedbl/numbersign/dollar/percent
/ampersand/quoteright/parenleft/parenright/asterisk/plus/comma/hyphen
/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O
/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/circumflex
/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y
/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase/guillemotleft
/guillemotright/bullet/florin/fraction/perthousand/dagger/daggerdbl
/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen
/brokenbar/section/dieresis/copyright/ordfeminine/guilsinglleft
/logicalnot/minus/registered/macron/degree/plusminus/twosuperior
/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior
/ordmasculine/guilsinglright/onequarter/onehalf/threequarters
/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE
/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn
/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla
/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis
/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash
/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]def
/Courier@0 ENC0/Courier RE/Times-Italic@0 ENC0/Times-Italic RE
/Times-Roman@0 ENC0/Times-Roman RE/Times-Bold@0 ENC0/Times-Bold RE
%%EndProlog
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
/F0 20/Times-Bold@0 SF(LPRng P)123.76 24 Q(ortability T)-.4 E
(esting and Installation)-1.84 E/F1 12/Times-Bold@0 SF -.12(Pa)209.706
46.8 S(trick P).12 E -.12(ow)-.24 G(ell <papo).12 E(well@sdsu.edu>)-.12
E(Dept. Electrical and Computer Engineering)194.172 61.2 Q
(San Diego State Uni)180.954 75.6 Q -.12(ve)-.12 G(rsity).12 E 3(,S)-.66
G(an Diego, CA 92182)-3 E(ABSTRA)269.16 104.4 Q(CT)-.66 E/F2 10
/Times-Roman@0 SF .354
(This is a detailed set of procedures for installing the LPRng softw)72
122.6 R .353(are and testing it for portability)-.1 F 5.353(.T)-.65 G
(he)-5.353 E/F3 10/Times-Italic@0 SF(Intr)2.853 E(oduci-)-.45 E(ton)72
133.6 Q F2 .832(document pro)3.332 F .833
(vides a detailed description of the LPRng softw)-.15 F .833
(are and the)-.1 F F3 -.55(Tu)3.333 G(torial).55 E F2 .833(document pro)
3.333 F .833(vides details)-.15 F(on the management procedures.)72 144.6
Q(The v)5 E(arious)-.25 E F3(man)2.5 E F2(pages pro)2.5 E
(vide details on each of the LPRng components.)-.15 E/F4 10/Times-Bold@0
SF(Intr)134.865 173.6 Q(oduction)-.18 E F2 .667(The LPRng softw)51 190.1
R .667(are is a descendent of the Berk)-.1 F(ele)-.1 E 3.166(yL)-.15 G
(PR)-3.166 E(softw)36 201.1 Q .385
(are, with the same general functionality)-.1 F 5.385(.T)-.65 G .385
(he source dis-)-5.385 F(trib)36 212.1 Q(ution has the structure sho)-.2
E(wn in T)-.25 E(able 1.)-.8 E F4(Order of Acti)122.06 231.35 Q(vities)
-.1 E F2 2.632(Ir)51 247.85 S .131(ecommend the follo)-2.632 F .131
(wing steps, each of which is detailed)-.25 F(belo)36 258.85 Q -.65(w.)
-.25 G 2.5(1. Generate)36 273.15 R(the test v)2.5 E
(ersion of the LPRng softw)-.15 E(are.)-.1 E 2.5(2. Check)36 287.45 R
(the v)2.5 E(arious portability issues.)-.25 E 2.5(3. Check)36 301.75 R
(the printcap and \214lters for e)2.5 E(xisting de)-.15 E(vices.)-.25 E
.4 LW 504 521.75 36 521.75 DL 39.73(con\214gure con\214guration)108
542.15 R(script)2.5 E 30.28(CHANGES change)108 554.15 R
(log \(major changes only\))2.5 E 48.61(DOC/* docmentation)108 566.15 R
(INFORMA)108 578.15 Q 8.62(TION a)-1.11 F(short o)2.5 E -.15(ve)-.15 G
(rvie).15 E 2.5(wo)-.25 G 2.5(fL)-2.5 G(PRng)-2.5 E(INST)108 590.15 Q
36.77(ALL Gnu)-.93 F(Autoconf installation information)2.5 E(TESTSUPPOR)
108 602.15 Q 12.81(TT)-.6 G(est LPR system)-13.51 E 35.28(README This)
108 614.15 R(document)2.5 E 52.5(man/* man)108 626.15 R
(pages for the major components.)2.5 E 58.06(src/* source)108 638.15 R
(code)2.5 E(src/Mak)108 650.15 Q 27.61(e\214le Mak)-.1 F(e\214le for e)
-.1 E -.15(xe)-.15 G(cutables).15 E 50.28(src/lpd LPRng)108 662.15 R
(serv)2.5 E(er)-.15 E(src/lpr)108 674.15 Q(,lpr)-.4 E 3.03
(,lprm,lpc LPRng)-.4 F(clients)2.5 E 30.3(src/checkpc LPRng)108 686.15 R
(check)2.5 E(out and test)-.1 E F4 -.92(Ta)298.525 704.15 S(ble 1).92 E
F2 5(:D)C(istrib)-5 E(ution)-.2 E .969(By con)51 316.05 R -.15(ve)-.4 G
.969(ntion, in the follo).15 F .969(wing discussion \214les are refer)
-.25 F(-)-.2 E(enced with respect to the root of the LPRng distrib)36
327.05 Q(ution.)-.2 E F4(COMPILA)125.53 346.3 Q(TION)-.95 E F2 .319
(LPRng is written in ANSI C and uses the GNU Mak)51 362.8 R 2.82(ep)-.1
G(ro-)-2.82 E 2.791(gram. If)36 373.8 R .291(you do not ha)2.791 F .591
-.15(ve a)-.2 H 2.791(nA).15 G .291(NSI C compiler you can try us-)
-2.791 F .757(ing the)36 384.8 R/F5 10/Courier@0 SF(unproto5.shar.gz)
3.257 E F2(softw)3.257 E .757(are in the UTIL directo-)-.1 F(ry)36 395.8
Q 5.148(.T)-.65 G .148(his softw)-5.148 F .148(are v)-.1 F .147
(aliantly tries to con)-.25 F -.15(ve)-.4 G .147(rt ANSI C to K&R C;).15
F .467(most of the code will translate directly b)36 406.8 R .467
(ut the)-.2 F F5(VARARGS)2.967 E F2(rou-)2.967 E .755
(tines will require special consideration.)36 417.8 R .755(The GNU Mak)
5.755 F 3.255(ep)-.1 G(ro-)-3.255 E 18.67
(gram can be obtained by FTP from)36 428.8 R F5
(ftp://prep.ai.mit.edu/pub/gnu)36 439.8 Q F2 8.554(,o)C 8.553(rf)-8.554
G 6.053(rom man)-8.553 F(y)-.15 E(other mirror sites.)36 450.8 Q .708
(The LPRng e)51 465.1 R -.15(xe)-.15 G .709(cutables are the).15 F F5
(lpd)3.209 E F2(serv)3.209 E .709(er program,)-.15 F F5(lpr)3.209 E F2
1.576(for job submission,)36 476.1 R F5(lpq)4.076 E F2 1.576
(for displaying status,)4.076 F F5(lprm)4.075 E F2 1.575(for re-)4.075 F
(mo)36 487.1 Q .138(ving jobs, and)-.15 F F5(checkpc)2.639 E F2 .139
(which performs test and check)2.639 F(out)-.1 E(functions.)36 498.1 Q
1.545(First, run the)331.8 173.6 R F5(configure)4.045 E F2 1.545
(script in the distrib)4.045 F 1.545(ution root)-.2 F .906
(directory; the)316.8 184.6 R F5(INSTALL)3.406 E F2 .906
(\214le contains a description of con\214g-)3.406 F(ure')316.8 195.6 Q
2.97(so)-.55 G 2.97(ptions. The)-2.97 F .47
(con\214gure script will check for v)2.97 F .47(arious sys-)-.25 F .737
(tem con\214guration options, and generate the v)316.8 206.6 R .738
(arious Mak)-.25 F(e\214les)-.1 E 2.159(and a)316.8 217.6 R F5(config.h)
4.659 E F2 4.659(\214le. By)4.659 F(def)4.659 E 2.159(ault, the e)-.1 F
-.15(xe)-.15 G 2.159(cutables will be).15 F(generated in the)316.8 228.6
Q F5(src)2.5 E F2(subdirectory)2.5 E(.)-.65 E 2.317 -.8(To g)331.8 242.9
T .717(enerate e).8 F -.15(xe)-.15 G .717(cutables in the).15 F F5
($MYBIN)3.217 E F2(directory)3.217 E 3.218(,s)-.65 G(tarting)-3.218 E
(in the distrib)316.8 253.9 Q(ution root do the follo)-.2 E
(wing commands:)-.25 E F5(SRC=`pwd`)324 269.3 Q(cd $MYBIN)324 280.3 Q
($SRC/configure --srcdir=$SRC)324 291.3 Q(make)324 302.3 Q F2 .713
(The con\214gure script is produced by the GNU)331.8 321 R F5(autoconf)
3.212 E F2(and)316.8 332 Q F5(autoheader)3.475 E F2 .975
(program, using the)3.475 F F5(configure.in)3.475 E F2(and)3.475 E F5
(acconfig.h)316.8 343 Q F2 4.639(\214les. If)4.639 F 2.139(you re)4.639
F 2.138(generate the con\214gure script,)-.15 F .125
(use the 2.1 or later v)316.8 354 R .126
(ersion of autoconf, and run the autoheader)-.15 F 1.089
(program as well.)316.8 365 R 1.089
(See the autoconf documentation for details)6.089 F(on these programs.)
316.8 376 Q 6.781(Once con\214gure \214nishes, you can then do)331.8
390.3 R F5(make)9.282 E 10.534(TESTVERSION=YES all)316.8 401.3 R F2(or)
13.034 E F5 10.534(cd src; make)13.034 F(TESTVERSION=YES all)316.8 412.3
Q F2(to generate the e)2.5 E -.15(xe)-.15 G(cutables.).15 E(The)331.8
426.6 Q F5(TESTVERSION)2.976 E F2 .476(\215ag causes a test and deb)
2.976 F .477(ugging v)-.2 F(er)-.15 E(-)-.2 E 1.452(sion of the softw)
316.8 437.6 R 1.452(are to be generated.)-.1 F 1.452(This v)6.452 F
1.452(ersion will read)-.15 F(the)316.8 448.6 Q F5(LPD_CONF)2.558 E F2
(en)2.559 E .059(vironment v)-.4 F .059
(ariable for the name of a con\214g-)-.25 F .569
(uration \214le, whose contents can o)316.8 459.6 R -.15(ve)-.15 G .569
(rride the compile time de-).15 F -.1(fa)316.8 470.6 S 3.876(ults. This)
.1 F 1.376(is a blatant security loophole especially running)3.876 F
.496(SUID root; see Security Considerations later in the document.)316.8
481.6 R 2.298(Only the)316.8 492.6 R F5(defaults.o)4.798 E F2 2.299
(\214le uses this \215ag for compilation.)4.799 F .045
(After testing the installation you can delete)316.8 503.6 R F5
(defaults.o)2.545 E F2(and)2.545 E(remak)316.8 514.6 Q 7.398(et)-.1 G
4.898(he distribtion.)-7.398 F(POR)9.898 E -.93(TA)-.6 G 4.898
(BILITY AND TESTING).93 F F4(LPRng - P)36 744.96 Q(ortability T)-.2 E
(esting and Installation)-.92 E(1)274.93 E EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Bold@0 SF(LPRng P)36 32.16 Q(ortability)-.2 E/F1 10
/Times-Roman@0 SF(VERSION)36 67.16 Q 2.804(Once you ha)51 81.46 R 3.104
-.15(ve g)-.2 H 2.804(enerated the test v).15 F 2.803(ersion using)-.15
F/F2 10/Courier@0 SF(make)5.303 E(TESTVERSION=YES)36 92.46 Q F1 2.864
(,y)C .364(ou should set up a user v)-2.864 F .365(ersion of the)-.15 F
1.018(LPRng softw)36 103.46 R 1.018(are by using the \214les in the)-.1
F F2(TESTSUPPORT)3.517 E F1(di-)3.517 E(rectory)36 114.46 Q 5(.T)-.65 G
(his requires the follo)-5 E(wing steps.)-.25 E/F3 9/Courier@0 SF
(cd TESTSUPPORT)43.2 129.66 Q(setenv USER `whoami`)43.2 151.26 Q
(setenv HOST)43.2 162.06 Q/F4 9/Times-Italic@0 SF
(fully quali\214ed domain name)5.4 E F3
(setenv LPD_CONF /tmp/LPD/lpd.conf)43.2 172.86 Q
(set path=\( /tmp/LPD $path \))43.2 183.66 Q/F5 9/Times-Bold@0 SF(OR)
43.2 194.46 Q F3(USER=`whoami`; export USER)43.2 205.26 Q(HOST=)43.2
216.06 Q F4(fully quali\214ed domain name)5.4 E F3 5.4(;e)C(xport HOST)
-5.4 E(PATH=/tmp/LPD $path:$PATH)43.2 226.86 Q
(LPD_CONF=/tmp/LPD/lpd.conf; export LPD_CONF)43.2 237.66 Q(make)43.2
259.26 Q 1.671(The test files and executables will be in-)49.5 273.3 R
1.5(stalled in the /tmp/LPD directory.)36 284.1 R 1.5(This tar-)12.3 F
1.286(get directory can be changed by modifying the)36 294.9 R
(TESTSUPPORT/Makefile.)36 305.7 Q 4.275
(During testing, the environment variables)49.5 319.74 R 1.8
(should be set in the .cshrc or .profile ini-)36 330.54 R
(tialization files.)36 341.34 Q F5(POR)112.113 360.24 Q -.81(TA)-.36 G
(BIL).81 E(TY TESTING)-.828 E/F6 9/Times-Roman@0 SF 1.972
(If your system is not listed in the)49.5 376.44 R F3(README.ports)4.222
E F6 1.971(\214le, it is)4.222 F .607
(strongly recommended that you check the installation for portability)36
387.24 R(.)-.585 E 1.084(These tests use the)36 398.04 R F3(TESTSUPPORT)
3.334 E F6 -.135(ve)3.334 G 1.084(rsion, installed as detailed in).135 F
(the pre)36 408.84 Q(vious section.)-.225 E(The e)4.5 E -.135(xe)-.135 G
(cutables are placed in).135 E F3(/tmp/LPD)2.25 E F6(.)A(The)49.5 422.88
Q F3(checkpc)2.955 E F6 .705(program has se)2.955 F -.135(ve)-.225 G
.705(ral portablility tests that are run).135 F .814(by using the)36
433.68 R F3 .814(checkpc -T)3.064 F F6 3.064(\215ag. Y)3.064 F .814
(ou will need to be superuser for)-.99 F .042(some of these tests; this is only for testing that the SUID functionality)
36 444.48 R .748(is w)36 455.28 R 2.998(orking. In)-.09 F .748
(the directory where you generated the)2.998 F F3(checkpc)2.998 E F6
-.135(ex)2.997 G(-).135 E 1.199(ecutable, e)36 466.08 R -.135(xe)-.135 G
1.199(cute the follo).135 F 1.199(wing command, where)-.225 F F4(serial)
3.449 E F6 1.199(is the path-)3.449 F(name of a serial port.)36 476.88 Q
F3(checkpc -T)43.2 492 Q F4(serial)5.4 E F5(SUID T)36 509.82 Q(est)-.828
E F6 1.021(The \214rst test in)49.5 523.32 R -.18(vo)-.36 G(lv).18 E
1.021(es SUID checking.)-.135 F 1.02(This test can be delayed)5.521 F
.043(until installation time, b)36 534.12 R .043
(ut must be done before installing a production)-.18 F -.135(ve)36
544.92 S 3.484(rsion. If).135 F F3(checkpc)3.484 E F6 1.234
(is not run as R)3.484 F(OO)-.36 E 3.484(To)-.36 G 3.484(ra)-3.484 G
3.483(saS)-3.484 G 1.233(ETUID R)-3.483 F(OO)-.36 E(T)-.36 E
(program, this test is skipped.)36 555.72 Q 2.565 -.72(To c)49.5 569.76
T 1.125(reate a SETUID R).72 F(OO)-.36 E 3.375(Tc)-.36 G 1.125
(heckpc program and run the tests,)-3.375 F .576(carry out the follo)36
580.56 R .576(wing steps.)-.225 F .576
(Delete the SETUID after \214nishing the)5.076 F(tests!)36 591.36 Q F3
(cd /tmp/LPD)43.2 606.48 Q(su)43.2 617.28 Q F6(become root)61.2 E F3
(chown root checkpc)43.2 628.08 Q F6(change o)10.8 E(wnership)-.225 E F3
(chmod 4111 checkpc)43.2 638.88 Q F6(mak)10.8 E 2.25(eS)-.09 G(ETUID R)
-2.25 E(OO)-.36 E(T)-.36 E F3(exit)43.2 649.68 Q F6(\(become re)50.4 E
(gular user\))-.135 E F3(checkpc -T)43.2 660.48 Q F4(serial)5.4 E F6
(run tests)10.098 E(\(check test results\))52.2 671.28 Q F3(su)43.2
682.08 Q F6(become root)61.2 E F3(chmod 755 checkpc)43.2 692.88 Q
(chown `whoami` checkpc)43.2 703.68 Q(exit)43.2 714.48 Q F6(\(become re)
55.8 E(gular user\))-.135 E .322
(If the setuid test succeeds, then a success message will be printed)
330.3 66.96 R 2.841(out. If)316.8 77.76 R .591(it f)2.841 F .591
(ails, then rerun the test with diagnostics enabled as sho)-.09 F(wn)
-.225 E(belo)316.8 88.56 Q 2.432(wa)-.225 G .182(nd sa)-2.432 F .452
-.135(ve t)-.18 H .182(he output to a \214le.).135 F 2.433(As)4.683 G
.183(tudy of the output should pro-)-2.433 F
(vide detailed information as to the cause of f)316.8 99.36 Q(ailure.)
-.09 E F3(checkpc -D9 -T)324 114.48 Q F4(serial)5.4 E F5(BIDIRECTION)
316.8 132.3 Q(AL PIPES)-.18 E F6 2.467(Ab)330.3 145.8 S .217
(idirectional pipe is used for inter)-2.467 F .217
(-\214lter communication.)-.18 F .217(If this)4.717 F 1.368(test f)316.8
156.6 R 1.368(ails, then you should enable)-.09 F F3(RWSOCKETS_CFLAGS)
3.618 E F6 1.368(option in)3.618 F(the)316.8 167.4 Q F3(src/Makefile)
3.037 E F6 .787(and re)3.037 F(generate)-.135 E F3(rw_pipe.o)3.037 E F6
5.287(.T)C .787(his option im-)-5.287 F
(plements bidirectional pipes by using a sock)316.8 178.2 Q
(et based mechanism.)-.09 E F5(SERIAL DEVICE OPEN AND LOCK)316.8 191.7 Q
F6 4.346(The ne)330.3 205.2 R 4.346(xt test checks to see if the)-.135 F
F3(Checkwrite\(\))6.596 E F6(and)6.596 E F3(Lock_device\(\))316.8 216 Q
F6 1.537(routines open and lock a serial de)3.787 F 3.786(vice. De)-.225
F(vice)-.225 E .801(locking is done by using the)316.8 226.8 R F3 -2.349
(TIOCEXCL ioctl\(\))3.051 F F6 3.051(call. If)3.051 F(locking)3.051 E
-.09(fa)316.8 237.6 S(ils, set).09 E F3(-D4)2.25 E F6
(and determine which lock method is being used.)2.25 E 8.219(See the)
330.3 251.64 R F3(LOCK_DEVS_CFLAGS)10.469 E F6 -.225(va)10.469 G 8.219
(riable description in).225 F F3(src/Makefile)316.8 262.44 Q F6 1.951
(and comments in)4.2 F F3(src/common/lockfile.c)4.201 E F6 1.46(on ho)
316.8 273.24 R 3.71(wt)-.225 G 3.71(os)-3.71 G 1.46(elect the f)-3.71 F
1.46(allback locking method.)-.09 F 1.459(Once selected, Y)5.96 F(ou)
-.99 E .746(will need to re)316.8 284.04 R(generate)-.135 E F3
(lockfile.o)2.996 E F6 .746(and the e)2.996 F -.135(xe)-.135 G .746
(cutables and rein-).135 F(stall them in the test location.)316.8 294.84
Q F5(FILE OPEN AND LOCK)316.8 308.34 Q F6 1.145(The ne)330.3 321.84 R
1.145(xt set of tests check that \214le locking w)-.135 F 3.394
(orks. If)-.09 F(the)3.394 E 3.394(yf)-.135 G(ail,)-3.484 E 7.734
(then try using an alternati)316.8 332.64 R 8.004 -.135(ve l)-.225 H
7.735(ocking method with the).135 F F3(STATFS_CFLAGS)316.8 343.44 Q F6
-.225(va)3.321 G 1.071(riable in the).225 F F3(src/Makefile)3.321 E F6
5.571(.S)C 1.071(ee the com-)-5.571 F 1.512(ments in)316.8 354.24 R F3
(src/common/lockfile.c)3.762 E F6 1.512(as well.)3.762 F -.99(Yo)6.012 G
3.762(uw).99 G 1.512(ill need to)-3.762 F(re)316.8 365.04 Q(generate)
-.135 E F3(lockfile.o)2.25 E F6(and the e)2.25 E -.135(xe)-.135 G
(cutables.).135 E F5(STTY FUNCTIONS)316.8 378.54 Q F6 .56(The ne)330.3
392.04 R .56(xt test checks the)-.135 F F3(stty)2.81 E F6 .56
(\(set serial line characteristics\) ca-)2.81 F 2.902(pabilities. In)
316.8 402.84 R .653
(order to do as system independent operations as possi-)2.902 F 1.114
(ble, line status is displayed using the)316.8 413.64 R F3(stty)3.364 E
F6 3.364(command. Y)3.364 F 1.114(ou should)-.99 F 1.443
(check the output of this command to mak)316.8 424.44 R 3.693(es)-.09 G
1.444(ure that the requested)-3.693 F(STTY operations did tak)316.8
435.24 Q 2.25(ep)-.09 G(lace.)-2.25 E .16(If a stty operation f)330.3
449.28 R .16(ailes, using the)-.09 F F3 -2.991(checkpc -D9)2.409 F F6
.159(\215ag and e)2.409 F(xam-)-.135 E 4.663
(ine the diagnostic output for the cause of f)316.8 460.08 R 6.913
(ailure. See)-.09 F(the)6.913 E F3(STTY_CFLAGS)316.8 470.88 Q F6 .533
(section of)2.783 F F3(src/Makefile)2.783 E F6 .533(on ho)2.783 F 2.783
(wt)-.225 G 2.783(os)-2.783 G .533(elect an al-)-2.783 F(ternatv)316.8
481.68 Q 2.575(eS)-.135 G .325(TTY interf)-2.575 F .325
(ace function if the one selected by)-.09 F F3(configure)2.575 E F6 .072
(is not suitable.)316.8 492.48 R -.99(Yo)4.572 G 2.322(uw).99 G .072
(ill need to re)-2.322 F(generate)-.135 E F3(stty.o)2.322 E F6 .072
(and the e)2.322 F -.135(xe)-.135 G(cuta-).135 E(bles.)316.8 503.28 Q F5
(PR)316.8 516.78 Q(OCTITLE)-.27 E F6(The)330.3 530.28 Q F3
(setproctitle\(\))3.058 E F6 .809
(function modi\214es the process status so)3.058 F .007(that the)316.8
541.08 R F3(ps\(1\))2.257 E F6 .007
(command will display the process acti)2.257 F(vity)-.225 E 4.506(.I)
-.585 G 2.256(ft)-4.506 G .006(his test)-2.256 F -.09(fa)316.8 551.88 S
.362(ils, then you might w).09 F .362(ant to see if you can modify the)
-.09 F F3(src/proc-)2.613 E(title.c)316.8 562.68 Q F6 1.096
(code so that it w)3.346 F 3.345(orks. Otherwise,)-.09 F 1.095
(just modify the)3.345 F F3(SET-)3.345 E(PROCTITLE_CFLAGS)316.8 573.48 Q
F6 -.225(va)2.759 G .509(riable in).225 F F3(src/Makefile)2.759 E F6 .51
(and recompile.)2.76 F F5(Filter T)417.091 592.38 Q(esting)-.828 E F6
-.99(Yo)330.3 608.58 S 2.785(us).99 G .534
(hould test the \214lters for your e)-2.785 F .534
(xisting printers by \214rst using)-.135 F .874(the test v)316.8 619.38
R 3.124(ersion. Y)-.135 F .875(ou can simply cop)-.99 F 3.125(yt)-.09 G
.875(he e)-3.125 F .875(xisting printcap entry to)-.135 F .055(the test printcap \214le, and modify the entry so that it uses the test setup)
316.8 630.18 R(directories.)316.8 640.98 Q(Ne)330.3 655.02 Q .245
(xt, try running a job through the \214lters, and see if it w)-.135 F
.246(orks cor)-.09 F(-)-.18 E(rectly)316.8 665.82 Q 5.148(.S)-.585 G
.648(ome \214lters)-5.148 F F5 -.162(re)2.898 G(quir).162 E(e)-.162 E F6
.648(root permissions as the)2.898 F 2.898(yp)-.135 G .648
(erform opera-)-2.898 F .831(tions such as opening sock)316.8 676.62 R
.831(ets in the pri)-.09 F(vile)-.225 E .831(ged port range.)-.135 F
.831(If this is)5.331 F .694
(the case, you will probably need to read the w)316.8 687.42 R .693
(arnings about running)-.09 F .603(\214lters as R)316.8 698.22 R(OO)-.36
E 1.935 -.666(T, a)-.36 H .603
(nd enable the source compilation \215ag to allo).666 F 2.853(wt)-.225 G
(his)-2.853 E .452(to be done.)316.8 709.02 R -.99(Yo)4.952 G 2.702(uM)
.99 G .452(UST read the w)-2.702 F .451(arnings in the src/Mak)-.09 F
.451(e\214le before)-.09 F F0 274.93(2L)36 744.96 S(PRng - P)-274.93 E
(ortability T)-.2 E(esting and Installation)-.92 E EP
%%Page: 3 3
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Bold@0 SF(LPRng P)425.03 32.16 Q(ortability)-.2 E/F1 9
/Times-Roman@0 SF .075(this can be done.)36 66.96 R -.99(Yo)4.575 G
2.325(um).99 G .075(ust also use the follo)-2.325 F .076
(wing in the printcap \214le:)-.225 F/F2 9/Courier@0 SF
(:if=ROOT /bin/....)36 77.76 Q F1 .736
(This has been done deliberately to mak)49.5 91.8 R 2.985(ei)-.09 G
2.985(td)-2.985 G(if)-2.985 E .735(\214cult to ignore the)-.225 F
(serious security problems this will open.)36 102.6 Q .687(By def)49.5
116.64 R .687(ault, the LPD serv)-.09 F .687
(er passes \214les to \214lters by using a pipe.)-.135 F .559(This allo)
36 127.44 R .559(ws the serv)-.225 F .559
(er to monitor the progress of printing.)-.135 F(Ho)5.058 E(we)-.225 E
-.135(ve)-.225 G -.36(r,).135 G .463(some \214lters require direct access to the \214le for doing fseek and other)
36 138.24 R 2.25(operations. T)36 149.04 R 2.25(oa)-.72 G(llo)-2.25 E
2.25(wt)-.225 G(his, set the)-2.25 E F2(:direct_read:)2.25 E F1
(printcap \215ag.)5.4 E/F3 9/Times-Bold@0 SF(Installation)139.995 167.94
Q F1 .81(Once you ha)49.5 184.14 R 1.08 -.135(ve \214)-.18 H .81
(nished testing, you can perform a \214nal installa-).135 F 2.25
(tion. The)36 194.94 R(follo)2.25 E(wing steps should be follo)-.225 E
(wed.)-.225 E 2.25(1. First,)36 208.98 R .09(compile the non-test v)2.34
F .09(ersion and install it in the def)-.135 F .09(ault loca-)-.09 F
(tions.)47.25 219.78 Q F2(rm src/default.o)43.2 234.9 Q(su)43.2 245.7 Q
/F4 9/Times-Italic@0 SF(may need r)16.2 E(oot perms to install)-.405 E
F2(make install)43.2 256.5 Q F1 2.25(2. Ne)36 274.86 R .787
(xt, if you are performing an initial installation, a simple set of)
-.135 F F2(lpd.conf)47.25 285.66 Q F1(and)3.046 E F2(lpd.perms)3.046 E
F1 .796(\214les are a)3.046 F -.225(va)-.18 G 3.047(ilable. Y).225 F
.797(ou can install)-.99 F(these by using the Mak)47.25 296.46 Q
(e\214le in the distrib)-.09 E(ution.)-.18 E F2(make default)43.2 311.58
Q F1 2.25(3. Ne)36 329.94 R .715
(xt, you should stop the current lpd daemon and sa)-.135 F .985 -.135
(ve t)-.18 H .715(he e).135 F(xist-)-.135 E .056(ing printcap \214le.)
47.25 340.74 R .056(If you are installing softw)4.556 F .057
(are on a Sun Microsys-)-.09 F 5.283(tems Solaris system,)47.25 351.54 R
5.283(see the detailed description in the)9.783 F .74
(README.solaris \214le in the distrib)47.25 362.34 R 2.99(ution. On)-.18
F .741(most other systems,)2.99 F(you can do:)47.25 373.14 Q F2
(ps -axu | grep lpd)43.2 388.26 Q(kill)43.2 399.06 Q F4(lpd pid)5.4 E F1
2.25(4. If)36 417.42 R .889(you need to, cop)3.14 F 3.139(yt)-.09 G .889
(he ne)-3.139 F 3.139(wp)-.225 G .889(rintcap \214le to)-3.139 F F2
(/etc/printcap)3.139 E F1(.)A(Use)47.25 428.22 Q F2(checkpc)2.25 E F1
(to ensure that the current printcap \214le is correct.)2.25 E F2
(cp /etc/printcap /etc/printcap.old)43.2 443.34 Q(checkpc)43.2 454.14 Q
(checkpc -f)43.2 464.94 Q F4(if necessary to for)5.4 E(ce corr)-.333 E
(ect permissions)-.333 E F1 2.25(5. Start)36 483.3 R
(the lpd daemon and check its operation.)2.25 E F2(lpd)43.2 498.42 Q
(exit)43.2 509.22 Q F4 -.333(re)10.8 G(turn to user).333 E F2(lpq)43.2
520.02 Q F1 2.25(6. Edit)36 538.38 R 3.846
(the print spooler startup commands in the appropriate)6.096 F F2
(rc.local)47.25 549.18 Q F1 .194(or other startup \214le to use)2.445 F
F2(/usr/local/bin/lpd)2.444 E F1(.)A 2.25(7. Reboot)36 563.22 R
(system to ensure that serv)2.25 E(er is started correctly)-.135 E(.)
-.585 E F3 -.18(Pe)119.97 582.12 S(riodic Maintenance).18 E F1 .388
(It is recommended that the)49.5 598.32 R F2(checkpc)2.638 E F1 .388
(program be run periodical-)2.638 F .627(ly to remo)36 609.12 R .897
-.135(ve a)-.135 H .627(borted jobs and to truncate v).135 F .627
(arious log \214les.)-.225 F .627(This can)5.127 F
(be done by putting the follo)36 619.92 Q(wing entry in the)-.225 E F4
(cr)2.25 E(ontab)-.405 E F1(for root.)2.25 E F2
(15 5 * * * /usr/local/lib/cleanlog)43.2 635.04 Q F1(The)49.5 653.4 Q F2
(cleanlog)2.907 E F1 .658(script can be used to clean and/or truncate v)
2.908 F(ari-)-.225 E(ous \214les.)36 664.2 Q(The follo)4.5 E
(wing is a typical script.)-.225 E F2(#!/bin/sh)43.2 679.32 Q
(trunc \(\) {)43.2 690.12 Q(tail $1 >/tmp/$$)61.2 700.92 Q
(cat /tmp/$$ >$1)61.2 711.72 Q(rm /tmp/$$)342 66.96 Q(})324 77.76 Q
(FILES="/usr/spool/lpd/log* /usr/spool/lpd/accnt")324 99.36 Q
(for i in $FILES do)324 110.16 Q(echo $i)342 120.96 Q(done)324 131.76 Q
F0(LPRng - P)36 744.96 Q(ortability T)-.2 E(esting and Installation)-.92
E(3)274.93 E EP
%%Trailer
end
%%EOF
