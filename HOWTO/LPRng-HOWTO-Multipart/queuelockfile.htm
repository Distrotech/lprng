<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta name="generator" content="HTML Tidy, see www.w3.org">
    <title>Queue Lock File</title>
    <meta name="GENERATOR" content=
    "Modular DocBook HTML Stylesheet Version 1.71 ">
    <link rel="HOME" title=" LPRng-HOWTO" href="index.htm">
    <link rel="UP" title="Spool Queues and Files" href=
    "spoolqueue.htm">
    <link rel="PREVIOUS" title="Spool Queues and Files" href=
    "spoolqueue.htm">
    <link rel="NEXT" title="Spool Control File " href=
    "queuecontrolfile.htm">
  </head>

  <body class="SECT1" bgcolor="#FFFFFF" text="#000000" link=
  "#0000FF" vlink="#840084" alink="#0000FF">
    <div class="NAVHEADER">
      <table summary="Header navigation table" width="100%" border=
      "0" cellpadding="0" cellspacing="0">
        <tr>
          <th colspan="3" align="center">LPRng-HOWTO: 1 Apr 2002
          (For LPRng-3.8.10)</th>
        </tr>

        <tr>
          <td width="10%" align="left" valign="bottom"><a href=
          "spoolqueue.htm" accesskey="P">Prev</a></td>

          <td width="80%" align="center" valign="bottom">Chapter
          13. Spool Queues and Files</td>

          <td width="10%" align="right" valign="bottom"><a href=
          "queuecontrolfile.htm" accesskey="N">Next</a></td>
        </tr>
      </table>
      <hr align="LEFT" width="100%">
    </div>

    <div class="SECT1">
      <h1 class="SECT1"><a name="QUEUELOCKFILE">13.2. Queue Lock
      File</a></h1>

      <ul>
        <li>
          <p><tt class="LITERAL">spool_lock_file</tt><i class=
          "EMPHASIS">spool queue lock file - default %P</i></p>
        </li>
      </ul>
      <br>
      <br>

      <p>When the <b class="APPLICATION">lpd</b> server starts
      printing, it will fork individual worker processes to service
      each queue. To prevent multiple processes from working on the
      same queue, a printer lock file specified by the <tt class=
      "LITERAL">queue_lock_file</tt> option (default <tt class=
      "LITERAL">%P</tt> - the %P is expanded to the print queue
      name) is used. In our example, the lock file would be: <tt
      class="FILENAME">/var/lpd/pr/pr</tt>.</p>

      <p>The process ID of the currently active printer is stored
      in the lock file. By reading the lock file and testing to see
      if the process is still active, programs such as <b class=
      "APPLICATION">lpq</b> can determine queue activity.</p>

      <p>Similarly, the worker process may need to create other
      processes to assist it. These in turn will create lock or
      temporary files in the spool directory as well.</p>
    </div>

    <div class="NAVFOOTER">
      <hr align="LEFT" width="100%">

      <table summary="Footer navigation table" width="100%" border=
      "0" cellpadding="0" cellspacing="0">
        <tr>
          <td width="33%" align="left" valign="top"><a href=
          "spoolqueue.htm" accesskey="P">Prev</a></td>

          <td width="34%" align="center" valign="top"><a href=
          "index.htm" accesskey="H">Home</a></td>

          <td width="33%" align="right" valign="top"><a href=
          "queuecontrolfile.htm" accesskey="N">Next</a></td>
        </tr>

        <tr>
          <td width="33%" align="left" valign="top">Spool Queues
          and Files</td>

          <td width="34%" align="center" valign="top"><a href=
          "spoolqueue.htm" accesskey="U">Up</a></td>

          <td width="33%" align="right" valign="top">Spool Control
          File</td>
        </tr>
      </table>
    </div>
  </body>
</html>

