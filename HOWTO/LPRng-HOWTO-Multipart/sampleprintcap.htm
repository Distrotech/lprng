<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta name="generator" content="HTML Tidy, see www.w3.org">
    <title>Sample Printcap Entry</title>
    <meta name="GENERATOR" content=
    "Modular DocBook HTML Stylesheet Version 1.71 ">
    <link rel="HOME" title=" LPRng-HOWTO" href="index.htm">
    <link rel="UP" title="Print Spooling Tutorial " href=
    "tutorial.htm">
    <link rel="PREVIOUS" title="Print Spooling Tutorial " href=
    "tutorial.htm">
    <link rel="NEXT" title="Setting Up the Tutorial Configuration"
    href="tutorialconfig.htm">
  </head>

  <body class="SECT1" bgcolor="#FFFFFF" text="#000000" link=
  "#0000FF" vlink="#840084" alink="#0000FF">
    <div class="NAVHEADER">
      <table summary="Header navigation table" width="100%" border=
      "0" cellpadding="0" cellspacing="0">
        <tr>
          <th colspan="3" align="center">LPRng-HOWTO: 1 Apr 2002
          (For LPRng-3.8.10)</th>
        </tr>

        <tr>
          <td width="10%" align="left" valign="bottom"><a href=
          "tutorial.htm" accesskey="P">Prev</a></td>

          <td width="80%" align="center" valign="bottom">Chapter 4.
          Print Spooling Tutorial</td>

          <td width="10%" align="right" valign="bottom"><a href=
          "tutorialconfig.htm" accesskey="N">Next</a></td>
        </tr>
      </table>
      <hr align="LEFT" width="100%">
    </div>

    <div class="SECT1">
      <h1 class="SECT1"><a name="SAMPLEPRINTCAP">4.2. Sample
      Printcap Entry</a></h1>

      <p>As described in the <a href="tutorial.htm#OVERVIEW">Print
      Spooling Overview</a>, the information in the <tt class=
      "FILENAME">printcap</tt> database is used control printing
      operations. While there is no RFC specifying its format or
      content, there is a strong <i class="EMPHASIS">de facto</i>
      standard for its format. For a complete description of the
      <tt class="FILENAME">printcap</tt> database see <a href=
      "printcapref.htm">Printcap Database</a>. For a list of all of
      the <tt class="FILENAME">printcap</tt> and configuration
      options see <a href="optionindex.htm">Index To All The
      Configuration and Printcap Options</a>.</p>

      <p>Here is a sample printcap suitable for use by the <b
      class="APPLICATION">LPRng</b> clients:</p>

      <div class="INFORMALEXAMPLE">
        <a name="AEN1650"></a>
<pre class="SCREEN">
    LPRng use :lp for destination (device and spool queue)
       lp:lp=lp@h4.private
       lpreal:lp=/dev/lp0
    
    Vintage BSD uses :rp:rm for spooler queue and :lp for device
      lp:rp=lp:rm=h4.private
      lpdev:lp=/dev/lp0
</pre>
      </div>
      <br>
      <br>

      <p>The <tt class="LITERAL">:lp=lp@h4.private</tt> printcap
      entry tells the <i class="EMPHASIS">client</i> programs that
      jobs for the <b class="APPLICATION">lp</b> printer or print
      queue are sent to the <b class="APPLICATION">lp</b> print
      queue queue on host <tt class="FILENAME">h4.private</tt>.
      This can also be specified using the The <i class=
      "EMPHASIS">legacy</i> BSD <tt class="LITERAL">:rp</tt> and
      <tt class="LITERAL">:rm</tt>. The <tt class=
      "LITERAL">:rp=</tt><i class="EMPHASIS">queue</i> option
      specifies the <i class="EMPHASIS">print queue</i> <tt class=
      "LITERAL">:rm=</tt><i class="EMPHASIS">host</i> option
      specifies the host. When both <tt class="LITERAL">lp</tt> and
      <tt class="LITERAL">:rp:rm</tt> are present the <tt class=
      "LITERAL">:lp</tt> option has precedence.</p>

      <p>On the printserver the following is a sample printcap
      entry suitable for the <b class="APPLICATION">lpd</b>
      server:</p>

      <div class="INFORMALEXAMPLE">
        <a name="AEN1671"></a>
<pre class="SCREEN">
    lp:
      :lp=/dev/lp0
      :sd=/var/spool/lpd/%P
      :filter=/usr/local/libexec/filters/ifhp
</pre>
      </div>
      <br>
      <br>

      <p>The <tt class="LITERAL">:sd=</tt><i class=
      "EMPHASIS">directory</i> option (spool queue directory)
      specifies the directory where print jobs will be placed. The
      <tt class="LITERAL">%P</tt> will be replaced with the name of
      the spool queue. The <tt class="LITERAL">:lp</tt> literal is
      now the path to the output device the <b class=
      "APPLICATION">lpd</b> server will use to print the job. The
      <tt class="LITERAL">:filter</tt> literal specifies the filter
      program to use to process the job before sending to the
      output device.</p>

      <p>Here is another example of a printcap entry using the <tt
      class="LITERAL">%P</tt> notation:</p>

      <div class="INFORMALEXAMPLE">
        <a name="AEN1682"></a>
<pre class="SCREEN">
    lp:lp=%P@h4.private
</pre>
      </div>
      This entry will cause all jobs sent to the <tt class=
      "LITERAL">lp</tt> spool queue to be sent to the <tt class=
      "LITERAL">lp</tt> queue on <tt class="LITERAL">server</tt>.
      <tt class="LITERAL">%X</tt> strings in the printcap entries
      are expanded as shown: 

      <div class="INFORMALTABLE">
        <a name="AEN1688"></a>

        <table border="1" class="CALSTABLE">
          <thead>
            <tr>
              <th align="LEFT" valign="TOP">Key</th>

              <th align="LEFT" valign="TOP">Replaced By</th>
            </tr>
          </thead>

          <tbody>
            <tr>
              <td align="LEFT" valign="TOP"><tt class=
              "LITERAL">%P</tt></td>

              <td align="LEFT" valign="TOP">printcap entry primary
              name (printer)</td>
            </tr>

            <tr>
              <td align="LEFT" valign="TOP"><tt class=
              "LITERAL">%Q</tt></td>

              <td align="LEFT" valign="TOP">queue requested</td>
            </tr>

            <tr>
              <td align="LEFT" valign="TOP"><tt class=
              "LITERAL">%h</tt></td>

              <td align="LEFT" valign="TOP">short host name
              (host)</td>
            </tr>

            <tr>
              <td align="LEFT" valign="TOP"><tt class=
              "LITERAL">%H</tt></td>

              <td align="LEFT" valign="TOP">fully qualified host
              name (host.dns.whatever)</td>
            </tr>

            <tr>
              <td align="LEFT" valign="TOP"><tt class=
              "LITERAL">%R</tt></td>

              <td align="LEFT" valign="TOP">remote printer (rp
              value)</td>
            </tr>

            <tr>
              <td align="LEFT" valign="TOP"><tt class=
              "LITERAL">%M</tt></td>

              <td align="LEFT" valign="TOP">remote host (rm
              value)</td>
            </tr>

            <tr>
              <td align="LEFT" valign="TOP"><tt class=
              "LITERAL">%D</tt></td>

              <td align="LEFT" valign="TOP">date in YYYY-MM-DD
              format</td>
            </tr>
          </tbody>
        </table>
      </div>
      <br>
      <br>
    </div>

    <div class="NAVFOOTER">
      <hr align="LEFT" width="100%">

      <table summary="Footer navigation table" width="100%" border=
      "0" cellpadding="0" cellspacing="0">
        <tr>
          <td width="33%" align="left" valign="top"><a href=
          "tutorial.htm" accesskey="P">Prev</a></td>

          <td width="34%" align="center" valign="top"><a href=
          "index.htm" accesskey="H">Home</a></td>

          <td width="33%" align="right" valign="top"><a href=
          "tutorialconfig.htm" accesskey="N">Next</a></td>
        </tr>

        <tr>
          <td width="33%" align="left" valign="top">Print Spooling
          Tutorial</td>

          <td width="34%" align="center" valign="top"><a href=
          "tutorial.htm" accesskey="U">Up</a></td>

          <td width="33%" align="right" valign="top">Setting Up the
          Tutorial Configuration</td>
        </tr>
      </table>
    </div>
  </body>
</html>

