.ds VE LPRng-3.2.1
.TH CHECKPC 8 \*(VE "LPRng"
.ig
$Id: checkpc.8,v 3.5 1997/03/05 04:40:04 papowell Exp papowell $
LPRng
Mon Jul 17 20:13:09 PDT 1995 Patrick Powell
..
.SH NAME
checkpc \- check out the /etc/printcap database
.SH SYNOPSIS
.B checkpc
[
.B \-aflrCPV
] [
.B \-c configfile
] [
.B \-A age[DHMS]
] [
.B \-D debug
] [
.B \-p printcap
] [
.B \-c config
] [
printcap
]
.SH DESCRIPTION
.B Checkpc
is used to check for the existence and correct permissions of entries
in the
.I printcap
database.
It is useful when installing a new printcap database and cleaning up
existing printer spoolers.
.IP "\fB\-a\fI" 5
Do not create accounting files if the fix option has been specified.
.IP "\fB\-c\fI configfile" 5
Read the configuration from configfile.
.IP "\fB\-f\fI" 5
The fix flag will cause the checkpc program to try and fix
various files and permissions.
It does this in a simple minded manner,
and the program may have to be run several times until all permissions
are correct.
It also reports its actions.
.IP "\fB\-l\fI" 5
Do not create log files if the fix option has been specified.
.IP "\fB\-p\fI printcapfile" 5
Read the printcap information from printcapfile.
.IP "\fB\-r\fI" 5
remove junk files older than the age set by -A.
You must set the age to a non-zero value otherwise no files are removed.
.IP "\fB\-s\fI" 5
Do not create printer status files if the fix option has been specified.
.IP "\fB\-A\fI Age[DHMS]" 5
Report junk files older than age.
The age time can have a suffix
days (D)
hours (H),
minutes (M),
or
seconds (S);
default is days.
.IP "\fB\-C\fI" 5
Print verbose configuration information.
Useful if interested in the configuration or defaults.
.IP "\fB\-P\fI" 5
Print verbose printcap information.
Useful if interested in the printcap values.
.IP "\fB\-V\fI" 5
Toggle verbose mode.
.SH "ANNOYING FEATURES"
If the
.B \-f
(fix)
option is specified and you do not run this as root,
it will complain,
but attempt to carry out the operations.
Usually the 
.IR chown (5)
will fail,
but this is not serious.
.SH FILES
.PP
The files used by LPRng are set by values in the
printer configuration file.
The following are a commonly used set of default values.
.nf
.ta \w'/var/spool/lpd/printcap.<hostname>           'u
/etc/lpd.conf		LPRng configuration file
/etc/printcap		printer description file
/etc/lpd.perms	printer permissions
/var/spool/printer*		spool directories
/var/spool/printer*/printer	lock file for queue control
/var/spool/printer*/control.printer	queue control
/var/spool/printer*/active.printer	active job
/var/spool/printer*/log.printer	log file
.fi
.SH "SEE ALSO"
lpd.conf(5),
lpc(8),
lpd(8),
lpr(1),
lpq(1),
lprm(1),
printcap(5),
lpd.perms(5),
pr(1).
.SH DIAGNOSTICS
.nf
Most of the diagnostics are self explanatory.
If you are puzzled over the exact cause of failure,
set the debugging level on (-D5) and run again.
The debugging information will 
help you to pinpoint the exact cause of failure.
.fi
.SH "HISTORY"
.LP
LPRng is a enhanced printer spooler system
with functionality similar to the Berkeley LPR software.
In 1988 Patrick Powell released
the PLP (Public Line Printer) software,
which went through several evolutions.
Justin Mason (jmason@iona.ie)
generated PLP4.0 from several older releases of PLP.
In 1992 Patrick Powell
release LPRng,
a completely redesigned and newly written version of the software.
.LP
The LPRng mailing list is plp@iona.ie;
subscribe by sending mail to plp-request@iona.ie with
the word subscribe in the body.
The software is available from ftp://iona.ie/pub/LPRng.
.LP
LPRng is distributed under the GNU software license for non-commercial
use,
the Artistic License for limited commercial use. 
Commerical support and licensing is available through
Patrick Powell <papowell@sdsu.edu>.
